<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8" />
	<link rel="icon" href="./favicon.png" />
	<meta name="viewport" content="width=device-width" />
	<meta http-equiv="content-security-policy" content="">
		<link href="./_app/immutable/assets/_page.b2777715.css" rel="stylesheet">
		<link rel="modulepreload" href="./_app/immutable/entry/start.9336bc38.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/index.5906a75e.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/singletons.3729c552.js">
		<link rel="modulepreload" href="./_app/immutable/entry/app.008ff0ee.js">
		<link rel="modulepreload" href="./_app/immutable/entry/layout.svelte.b1bbe999.js">
		<link rel="modulepreload" href="./_app/immutable/entry/_layout.js.984db11e.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/_layout.da46b06b.js">
		<link rel="modulepreload" href="./_app/immutable/entry/_page.svelte.6cdeb626.js">
</head>

<body data-sveltekit-preload-data="hover">
	<div style="display: contents">




<svelte-scroller-outer class="svelte-xdbafy"><svelte-scroller-background-container class="background-container svelte-xdbafy" style="
		position: absolute;
		top: 0;
		transform: translate(0, 0px);
		z-index: 1;
	"><svelte-scroller-background class="svelte-xdbafy"><div class="background svelte-f2vy7l" slot="background"><div class="progress-bars svelte-f2vy7l"></div></div></svelte-scroller-background></svelte-scroller-background-container>

	<svelte-scroller-foreground class="svelte-xdbafy"><div class="foreground svelte-f2vy7l" slot="foreground"><section class="svelte-f2vy7l">
      <h2>RemitReturn</h2>

<div class="IntroText svelte-1khzzid"><p>Economic insecurity is the leading cause of migration. Despite the costs
        - both financial and emotional - associated with migrating from the
        Northern Triangle (El Salvador, Honduras, and Guatemala) to the United
        States, indviduals take on this burden year after year in search of
        better salaries, working conditions, and opportunities to send money
        home. Migrants who end up working in the destination country long enough
        not only offset the cost of their migration and send remittances home,
        but also spend money in the United States (for food, housing, etc),
        invigorating the economy. Data sourced from the UN World Food Programme (WFP).
    </p>

    <p>The data displayed here is a subset of the class data. This subset
        includes 454 individuals who reported a cost of migration and whose
        destination was the United States. Of these, 349 currently reside in the
        USA and send remittances back to their families (as of the time of the
        survey, April 2021). 105 paid the cost of migration but either did not
        make it to the USA or were sent back.
    </p>

    <p>Is the cost worth it? At what point do working migrants offset that
        cost? How much are they contributing to the US economy depending on what
        jobs are available? To better understand the tradeoff between the cost
        of migration, remittances, and money entering the USA, we have
        identified 10 migrants who represent a statistically similar sample of
        this larger group.
    </p>
</div></section>
    <section class="svelte-f2vy7l">
      <main>

    <html lang="en"><head><meta charset="utf-8">
            
            
            <style>.node rect {
                    cursor: move;
                    fill-opacity: 0.9;
                    shape-rendering: crispEdges;
                }
                .node text {
                    pointer-events: none;
                    text-shadow: 0 1px 0 #fff;
                }
                .link {
                    fill: none;
                    stroke: burlywood;
                    stroke-opacity: 0.2;
                }
                .link:hover {
                    fill: red;
                    stroke: red;
                    stroke-opacity: 1000;
                }
                svg {
                    position: relative; 
                    text-anchor: middle;
                }
                canvas {
                    position: absolute;
                }
            </style></head>
        <body>

            <div class="sidebar"><p style="float: left;">Original Occupation</p>
                <p style="float: right;">US Occupation</p></div>
            <p id="sankey"><canvas width="800" height="1100"></canvas>
                <svg width="800" height="1000"></svg>

                <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.16/d3.min.js" charset="utf-8" type="text/javascript"></script>
                <script src="https://cdn.jsdelivr.net/gh/holtzy/D3-graph-gallery@master/LIB/sankey.js"></script>

                <script type="text/javascript">var margin = { top: 1, right: 1, bottom: 6, left: 1 },
                        width = 600 - margin.left - margin.right,
                        height = 500 - margin.top - margin.bottom;
                    var formatNumber = d3.format(",.0f"),
                        format = function (d) {
                            return formatNumber(d);
                        },
                        color = d3.scale.category20();
                    var svg = d3
                        .select("svg")
                        .attr("width", width + margin.left + margin.right)
                        .attr("height", height + margin.top + margin.bottom)
                        .append("g")
                        .attr(
                            "transform",
                            "translate(" + margin.left + "," + margin.top + ")"
                        );
                    var sankey = d3
                        .sankey()
                        .nodeWidth(15)
                        .nodePadding(10)
                        .size([width, height]);
                    var path = sankey.link();
                    var freqCounter = 1;
                    d3.json(
                        "https://raw.githubusercontent.com/mercerb/remit-return/sankey/remitreturn/src/data/sankey.json",
                        function (energy) {
                            sankey
                                .nodes(energy.nodes)
                                .links(energy.links)
                                .layout(32);
                            var link = svg
                                .append("g")
                                .selectAll(".link")
                                .data(energy.links)
                                .attr("fill", "yellow")
                                .enter()
                                .append("path")
                                .attr("class", "link")
                                .attr("opacity", 0.1)
                                .attr("d", path)

                                .style("stroke-width", function (d) {
                                    return Math.max(1, d.dy);
                                })
                                .sort(function (a, b) {
                                    return b.dy - a.dy;
                                });

                            link.append("title").text(function (d) {
                                return (
                                    d.source.name +
                                    " â†’ " +
                                    d.target.name +
                                    "\n" +
                                    format(d.value)
                                );
                            });
                            var node = svg
                                .append("g")
                                .selectAll(".node")
                                .data(energy.nodes)
                                .enter()
                                .append("g")
                                .attr("class", "node")
                                .attr("transform", function (d) {
                                    return "translate(" + d.x + "," + d.y + ")";
                                })
                                .call(
                                    d3.behavior
                                        .drag()
                                        .origin(function (d) {
                                            return d;
                                        })
                                        .on("dragstart", function () {
                                            this.parentNode.appendChild(this);
                                        })
                                        .on("drag", dragmove)
                                );
                            node.append("rect")
                                .attr("height", function (d) {
                                    return d.dy;
                                })
                                .attr("width", sankey.nodeWidth())
                                .style("fill", function (d) {
                                    return (d.color = color(
                                        d.name.replace(/ .*/, "")
                                    ));
                                })
                                .style("stroke", "none")
                                .append("title")
                                .text(function (d) {
                                    return d.name + "\n" + format(d.value);
                                });
                            node.on("mouseover", function (d) {
                                link.transition()
                                    .duration(300)
                                    .style("stroke-opacity", function (l) {
                                        return l.source === d || l.target === d
                                            ? 1
                                            : 0.2;
                                    });
                            }).on("mouseleave", function (d) {
                                link.transition()
                                    .duration(300)
                                    .style("stroke-opacity", 0.2);
                            });
                            node.append("text")
                                .attr("x", -6)
                                .attr("y", function (d) {
                                    return d.dy / 2;
                                })
                                .attr("dy", ".35em")
                                .attr("text-anchor", "end")
                                .attr("transform", null)
                                .text(function (d) {
                                    return d.name;
                                })
                                .filter(function (d) {
                                    return d.x < width / 2;
                                })
                                .attr("x", 6 + sankey.nodeWidth())
                                .attr("text-anchor", "start");
                            function dragmove(d) {
                                d3.select(this).attr(
                                    "transform",
                                    "translate(" +
                                        d.x +
                                        "," +
                                        (d.y = Math.max(
                                            0,
                                            Math.min(height - d.dy, d3.event.y)
                                        )) +
                                        ")"
                                );
                                sankey.relayout();
                                link.attr("d", path);
                            }

                            var linkExtent = d3.extent(
                                energy.links,
                                function (d) {
                                    return d.value;
                                }
                            );
                            var frequencyScale = d3.scale
                                .linear()
                                .domain(linkExtent)
                                .range([0.05, 1]);
                            var particleSize = d3.scale
                                .linear()
                                .domain(linkExtent)
                                .range([1, 5]);
                            energy.links.forEach(function (link) {
                                link.freq = frequencyScale(link.value);
                                link.particleSize = 1;
                                link.color = d3.scale
                                    .linear()
                                    .domain([0, 1])
                                    .range([
                                        link.source.color,
                                        link.target.color,
                                    ]);
                                link.particleColor = d3.scale
                                    .linear()
                                    .domain([0, 1])
                                    .range([
                                        link.source.color,
                                        link.target.color,
                                    ]);
                            });
                            var t = d3.timer(tick, 50);
                            var particles = [];
                            function tick(elapsed, time) {
                                particles = particles.filter(function (d) {
                                    return d.current < d.path.getTotalLength();
                                });
                                d3.selectAll("path.link").each(function (d) {
                                    for (var x = 0; x < 2; x++) {
                                        var offset =
                                            (Math.random() - 0.5) * (d.dy - 4);
                                        if (Math.random() < d.freq) {
                                            var length = this.getTotalLength();
                                            particles.push({
                                                link: d,
                                                time: elapsed,
                                                offset: offset,
                                                path: this,
                                                length: length,
                                                animateTime: length,
                                                speed: 0.5 + Math.random(),
                                            });
                                        }
                                    }
                                });
                                particleEdgeCanvasPath(elapsed);
                            }
                            function particleEdgeCanvasPath(elapsed) {
                                var context = d3
                                    .select("canvas")
                                    .node()
                                    .getContext("2d");
                                context.clearRect(0, 0, 1000, 1000);
                                context.fillStyle = "gray";
                                context.lineWidth = "1px";
                                for (var x in particles) {
                                    var currentTime =
                                        elapsed - particles[x].time;
                                    particles[x].current =
                                        currentTime * 0.15 * particles[x].speed;
                                    var currentPos = particles[
                                        x
                                    ].path.getPointAtLength(
                                        particles[x].current
                                    );
                                    context.beginPath();
                                    context.fillStyle =
                                        particles[x].link.particleColor(0);
                                    context.arc(
                                        currentPos.x,
                                        currentPos.y + particles[x].offset,
                                        particles[x].link.particleSize,
                                        0,
                                        2 * Math.PI
                                    );
                                    context.fill();
                                }
                            }
                        }
                    );
                    function highlight_node_links(node, i) {
                        var remainingNodes = [],
                            nextNodes = [];
                        var stroke_opacity = 0;
                        if (d3.select(this).attr("data-clicked") == "1") {
                            d3.select(this).attr("data-clicked", "0");
                            stroke_opacity = 0.2;
                        } else {
                            d3.select(this).attr("data-clicked", "1");
                            stroke_opacity = 0.5;
                        }
                        var traverse = [
                            {
                                linkType: "sourceLinks",
                                nodeType: "target",
                            },
                            {
                                linkType: "targetLinks",
                                nodeType: "source",
                            },
                        ];
                        traverse.forEach(function (step) {
                            node[step.linkType].forEach(function (link) {
                                remainingNodes.push(link[step.nodeType]);
                                highlight_link(link.id, stroke_opacity);
                            });
                            while (remainingNodes.length) {
                                nextNodes = [];
                                remainingNodes.forEach(function (node) {
                                    node[step.linkType].forEach(function (
                                        link
                                    ) {
                                        nextNodes.push(link[step.nodeType]);
                                        highlight_link(link.id, stroke_opacity);
                                    });
                                });
                                remainingNodes = nextNodes;
                            }
                        });
                    }
                    function highlight_link(id, opacity) {
                        d3.select("#link-" + id).style(
                            "stroke-opacity",
                            opacity
                        );
                    }
                </script></p></body></html></main></section>
    <section class="svelte-f2vy7l">
      Cost of migration projected over time (months).
      <div class="LineChart2 svelte-14o9rub"><svg width="600" height="400" id="svg-container-997002.5984932758"><g><line x1="50" x2="550" y1="350" y2="350" stroke="#112b64" stroke-width="2" class="axis"></line><line x1="50" x2="50" y1="50" y2="350" stroke="#112b64" stroke-width="2" class="axis" text="Cost of Migration (USD)"></line></g><g></g><g transform="translate(0, 350)"><g class="tick" opacity="1" transform="translate(50,0)"><line stroke="black" y2="6"></line><text dy="0.71em" fill="black" y="10" x="-5" text-anchor="middle">0</text></g><g class="tick" opacity="1" transform="translate(83.33333333333333,0)"><line stroke="black" y2="6"></line><text dy="0.71em" fill="black" y="10" x="-5" text-anchor="middle">1</text></g><g class="tick" opacity="1" transform="translate(116.66666666666666,0)"><line stroke="black" y2="6"></line><text dy="0.71em" fill="black" y="10" x="-5" text-anchor="middle">2</text></g><g class="tick" opacity="1" transform="translate(150,0)"><line stroke="black" y2="6"></line><text dy="0.71em" fill="black" y="10" x="-5" text-anchor="middle">3</text></g><g class="tick" opacity="1" transform="translate(183.33333333333331,0)"><line stroke="black" y2="6"></line><text dy="0.71em" fill="black" y="10" x="-5" text-anchor="middle">4</text></g><g class="tick" opacity="1" transform="translate(216.66666666666666,0)"><line stroke="black" y2="6"></line><text dy="0.71em" fill="black" y="10" x="-5" text-anchor="middle">5</text></g><g class="tick" opacity="1" transform="translate(250,0)"><line stroke="black" y2="6"></line><text dy="0.71em" fill="black" y="10" x="-5" text-anchor="middle">6</text></g><g class="tick" opacity="1" transform="translate(283.33333333333337,0)"><line stroke="black" y2="6"></line><text dy="0.71em" fill="black" y="10" x="-5" text-anchor="middle">7</text></g><g class="tick" opacity="1" transform="translate(316.66666666666663,0)"><line stroke="black" y2="6"></line><text dy="0.71em" fill="black" y="10" x="-5" text-anchor="middle">8</text></g><g class="tick" opacity="1" transform="translate(350,0)"><line stroke="black" y2="6"></line><text dy="0.71em" fill="black" y="10" x="-5" text-anchor="middle">9</text></g><g class="tick" opacity="1" transform="translate(383.3333333333333,0)"><line stroke="black" y2="6"></line><text dy="0.71em" fill="black" y="10" x="-5" text-anchor="middle">10</text></g><g class="tick" opacity="1" transform="translate(416.66666666666663,0)"><line stroke="black" y2="6"></line><text dy="0.71em" fill="black" y="10" x="-5" text-anchor="middle">11</text></g><g class="tick" opacity="1" transform="translate(450,0)"><line stroke="black" y2="6"></line><text dy="0.71em" fill="black" y="10" x="-5" text-anchor="middle">12</text></g><g class="tick" opacity="1" transform="translate(483.33333333333337,0)"><line stroke="black" y2="6"></line><text dy="0.71em" fill="black" y="10" x="-5" text-anchor="middle">13</text></g><g class="tick" opacity="1" transform="translate(516.6666666666667,0)"><line stroke="black" y2="6"></line><text dy="0.71em" fill="black" y="10" x="-5" text-anchor="middle">14</text></g><g class="tick" opacity="1" transform="translate(550,0)"><line stroke="black" y2="6"></line><text dy="0.71em" fill="black" y="10" x="-5" text-anchor="middle">15</text></g></g><g transform="translate(50, 0)"><g class="tick" opacity="1" transform="translate(0,350)"><line stroke="black" x2="-5"></line><text dy="0.32em" fill="black" x="-10" text-anchor="end">$0</text></g><g class="tick" opacity="1" transform="translate(0,320)"><line stroke="black" x2="-5"></line><text dy="0.32em" fill="black" x="-10" text-anchor="end">$1100</text></g><g class="tick" opacity="1" transform="translate(0,290)"><line stroke="black" x2="-5"></line><text dy="0.32em" fill="black" x="-10" text-anchor="end">$2200</text></g><g class="tick" opacity="1" transform="translate(0,260)"><line stroke="black" x2="-5"></line><text dy="0.32em" fill="black" x="-10" text-anchor="end">$3300</text></g><g class="tick" opacity="1" transform="translate(0,230)"><line stroke="black" x2="-5"></line><text dy="0.32em" fill="black" x="-10" text-anchor="end">$4400</text></g><g class="tick" opacity="1" transform="translate(0,200)"><line stroke="black" x2="-5"></line><text dy="0.32em" fill="black" x="-10" text-anchor="end">$5500</text></g><g class="tick" opacity="1" transform="translate(0,170)"><line stroke="black" x2="-5"></line><text dy="0.32em" fill="black" x="-10" text-anchor="end">$6600</text></g><g class="tick" opacity="1" transform="translate(0,140)"><line stroke="black" x2="-5"></line><text dy="0.32em" fill="black" x="-10" text-anchor="end">$7700</text></g><g class="tick" opacity="1" transform="translate(0,109.99999999999999)"><line stroke="black" x2="-5"></line><text dy="0.32em" fill="black" x="-10" text-anchor="end">$8800</text></g><g class="tick" opacity="1" transform="translate(0,80)"><line stroke="black" x2="-5"></line><text dy="0.32em" fill="black" x="-10" text-anchor="end">$9900</text></g><g class="tick" opacity="1" transform="translate(0,50)"><line stroke="black" x2="-5"></line><text dy="0.32em" fill="black" x="-10" text-anchor="end">$11000</text></g></g></svg></div>

<div id="chart"></div>
      </section>
    <section class="svelte-f2vy7l"><div class="MiddleText svelte-x6um5r"><p>As seen in the above graph, the time it takes to pay off the cost of the
        migration depends on the job secured by the migrant in the destination
        country and the amount of money they send back as remittances every
        month. It can take as little as 1 month to work off the cost of the
        migration and begin contributing to the economy, but for more expensive
        migrations, the payback period can be as long as a year.
    </p>

    <p>The orange bars represent two migrants who paid thousands of US dollars
        to migrate but were sent back to their country of origin. They never had
        a chance to pay off the amount they invested in the migration. They
        never had the opportunity to work in the US, contribute to its economy,
        and send money back home.
    </p>
</div></section>
    <section class="svelte-f2vy7l"></section></div></svelte-scroller-foreground>
</svelte-scroller-outer>





			
			<script>
				{
					__sveltekit_mb0jki = {
						base: new URL(".", location).pathname.slice(0, -1),
						env: {}
					};

					const element = document.currentScript.parentElement;

					const data = [null,null];

					Promise.all([
						import("./_app/immutable/entry/start.9336bc38.js"),
						import("./_app/immutable/entry/app.008ff0ee.js")
					]).then(([kit, app]) => {
						kit.start(app, element, {
							node_ids: [0, 2],
							data,
							form: null,
							error: null
						});
					});
				}
			</script>
		</div>
</body>

</html>

<style>
	html {
		background-color: #f8f7f6;
	}

	/* body {
		height: 100vh;
		margin: 0;
		padding: 0;
	} */
</style>